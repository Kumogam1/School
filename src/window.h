#ifndef _WINDOW_
#define _WINDOW_

#include "Map.h"
#include "Shape.h"
#include <SDL.h>
// STL
#include <string>

/******************************************************************************
 ************************* DEFINE AND CONSTANT SECTION ************************
 ******************************************************************************/

/******************************************************************************
 ***************************** TYPE DEFINITION ********************************
 ******************************************************************************/

/******************************************************************************
 ******************************** CLASS USED **********************************
 ******************************************************************************/

// Graphics library
struct SDL_Window;

// Project
class Surface;
class Sprite;

/******************************************************************************
 ****************************** CLASS DEFINITION ******************************
 ******************************************************************************/

/**
  * @class Window
  *
  * @brief The Window class provides interface to the underlying graphics library's window management.
  */
class Window
{

	/**************************************************************************
	 ***************************** PUBLIC SECTION *****************************
	 **************************************************************************/

public:

	/******************************* ATTRIBUTES *******************************/

	/******************************** METHODS *********************************/

	Window();
	Window( const std::string& name, const int w, const int h );
	virtual ~Window();

	inline int width() const;
	inline int height() const;

	void initialize();
	void finalize();

	void draw( const Sprite& sprite, int x, int y );

	void update(Map& map, Shape& shape, Shape& next) const;

	void game_over();

	/**************************************************************************
	 **************************** PROTECTED SECTION ***************************
	 **************************************************************************/

protected:

	/******************************* ATTRIBUTES *******************************/

	/**
	 * Graphics library
	 */
	SDL_Window* window_;

	/**
	 * Associated underlying surface
	 */
	SDL_Renderer* renderer_;
	SDL_Texture* background_;

	/**
	 * Size 
	 */
	int w_;
	int h_;

	/**
	 * Name
	 */
	std::string title_;

	/******************************** METHODS *********************************/

	/**************************************************************************
	 ***************************** PRIVATE SECTION ****************************
	 **************************************************************************/

private:

	/******************************* ATTRIBUTES *******************************/

	/******************************** METHODS *********************************/

};

/**************************************************************************
 ***************************** INLINE SECTION *****************************
 **************************************************************************/

#include "window.inl"

#endif
